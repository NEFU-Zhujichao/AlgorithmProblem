# 计算机网络与操作系统面经
[大佬总结~](https://blog.csdn.net/xiaoming100001/article/details/81109617) 
### 运输层总结
- 运输层的一个很重要的功能就是复用和分用。应用层不同进程的报文通过不同的端口向下交到运输层，再往下就共用网络层提供的服务。
- TCP传送的数据单位协议是**TCP报文段。**UDP传送的数据单位协议是**UDP报文或用户数据报。**
### TCP/UDP区别
- UDP：无连接，发送数据之前不需要建立连接。尽最大努力交付，不保证可靠交付，不使用拥塞控制。面向报文，适合多媒体通信。交互通信，一对一，一对多，多对一，多对多。首部开销小，8个字节。
- TCP：面向连接。点对点通信。可靠交付。全双工通信。面向字节流。
### TCP为什么可靠
[](https://zhuanlan.zhihu.com/p/130730913) 
- 乱序重排
- 应答确认
- 报文重传
- 流量控制
### https与http区别
- HTTPS是身披SSL外壳的HTTP。HTTPS是一种通过计算机网络进行安全通信的传输协议，经由HTTP进行通信，利用SSL/TLS建立全信道，加密数据包。HTTPS使用的主要目的是提供对网站服务器的身份认证，同时保护交换数据的隐私与完整性。 
#### HTTPS有如下特点：
- 内容加密：采用混合加密技术，中间者无法直接查看明文内容
- 验证身份：通过证书认证客户端访问的是自己的服务器
- 保护数据完整性：防止传输的内容被中间人冒充或者篡改
> - **混合加密**：结合非对称加密和对称加密技术。客户端使用对称加密生成密钥对传输数据进行加密，然后使用非对称加密的公钥再对秘钥进行加密，所以网络上传输的数据是被秘钥加密的密文和用公钥加密后的秘密秘钥，因此即使被黑客截取，由于没有私钥，无法获取到加密明文的秘钥，便无法获取到明文数据。
> - **数字摘要**：通过单向hash函数对原文进行哈希，将需加密的明文“摘要”成一串固定长度(如128bit)的密文，不同的明文摘要成的密文其结果总是不相同，同样的明文其摘要必定一致，并且即使知道了摘要也不能反推出明文。
> - **数字签名技术**：数字签名建立在公钥加密体制基础上，是公钥加密技术的另一类应用。它把公钥加密技术和数字摘要结合起来，形成了实用的数字签名技术。
- 收方能够证实发送方的真实身份；
- 发送方事后不能否认所发送过的报文；
- 收方或非法者不能伪造、篡改报文。
- **非对称加密过程需要用到公钥进行加密，那么公钥从何而来？其实公钥就被包含在数字证书中，数字证书通常来说是由受信任的数字证书颁发机构CA，在验证服务器身份后颁发，证书中包含了一个密钥对（公钥和私钥）和所有者识别信息。数字证书被放到服务端，具有服务器身份验证和数据传输加密功能。**
### TCP(传输控制协议)3次握手，为什么不能是2次握手？4次握手？
- 三次握手。
- 为什么不是2次？
    - 主要是为了防止已失效的请求连接报文忽然又传送到了，从而产生错误。假定A向B发送一个连接请求，由于一些原因，导致A发出的连接请求在一个网络节点逗留了比较多的时间。此时A会将此连接请求作为无效处理。又重新向B发起了一次新的连接请求，B正常收到此连接请求后建立了连接，数据传输完成后释放了连接。**如果此时A发出的第一次请求又到达了B，B会以为A又发起了一次连接请求，如果是两次握手，此时连接就建立了，B会一直等待A发送数据，从而白白浪费B的资源。** 如果是三次握手：由于A没有发起连接请求，也就不会理会B的连接响应，B没有收到A的确认连接，就会关闭掉本次连接。
    - 同时也不能保证传输的可靠性。
- 为什么不是4次？
    - 理论上讲不论握手多少次都不能确认一条信道是“可靠”的，但通过3次握手可以至少确认它是“可用”的，再往上加握手次数不过是提高“它是可用的”这个结论的可信程度。
    - 避免资源浪费。
- 三次握手本质：
    - 本质：1、保证信道数据传输的可靠性；2、避免资源浪费 3、三次是保证双方互相明确对方能收能发的最低值。
    - TCP 的可靠连接是靠 seq（ sequence numbers 序列号）来达成的。
### TCP4次挥手，为什么等2MLS？
- 四次挥手。
- 
